<div class="register-container">
  <div class="register-wrapper">
    <mat-card class="register-card">
      <mat-card-header>
        <div class="logo-section">
          <div class="logo-icon">
            <mat-icon>person_add</mat-icon>
          </div>
          <h1 class="brand-name">Paperless</h1>
          <p class="brand-tagline">Crie sua conta gratuitamente</p>
        </div>
      </mat-card-header>

      <mat-card-content>
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <!-- Full Name Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Nome Completo</mat-label>
            <input 
              matInput 
              type="text" 
              formControlName="fullName"
              placeholder="João da Silva"
              autocomplete="name">
            <mat-icon matPrefix>person</mat-icon>
            @if (registerForm.get('fullName')?.invalid && registerForm.get('fullName')?.touched) {
              <mat-error>{{ getFullNameErrorMessage() }}</mat-error>
            }
          </mat-form-field>

          <!-- Email Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Email</mat-label>
            <input 
              matInput 
              type="email" 
              formControlName="email"
              placeholder="seu@email.com"
              autocomplete="email">
            <mat-icon matPrefix>email</mat-icon>
            @if (registerForm.get('email')?.invalid && registerForm.get('email')?.touched) {
              <mat-error>{{ getEmailErrorMessage() }}</mat-error>
            }
          </mat-form-field>

          <!-- Password Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Senha</mat-label>
            <input 
              matInput 
              [type]="hidePassword ? 'password' : 'text'" 
              formControlName="password"
              placeholder="Mínimo 8 caracteres"
              autocomplete="new-password">
            <mat-icon matPrefix>lock</mat-icon>
            <button 
              mat-icon-button 
              matSuffix 
              type="button"
              (click)="hidePassword = !hidePassword"
              [attr.aria-label]="'Esconder senha'"
              [attr.aria-pressed]="hidePassword">
              <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-hint>Use maiúsculas, minúsculas, números e símbolos</mat-hint>
            @if (registerForm.get('password')?.invalid && registerForm.get('password')?.touched) {
              <mat-error>{{ getPasswordErrorMessage() }}</mat-error>
            }
          </mat-form-field>

          <!-- Confirm Password Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Confirmar Senha</mat-label>
            <input 
              matInput 
              [type]="hideConfirmPassword ? 'password' : 'text'" 
              formControlName="confirmPassword"
              placeholder="Digite a senha novamente"
              autocomplete="new-password">
            <mat-icon matPrefix>lock_outline</mat-icon>
            <button 
              mat-icon-button 
              matSuffix 
              type="button"
              (click)="hideConfirmPassword = !hideConfirmPassword"
              [attr.aria-label]="'Esconder senha'"
              [attr.aria-pressed]="hideConfirmPassword">
              <mat-icon>{{hideConfirmPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            @if (registerForm.get('confirmPassword')?.touched) {
              <mat-error>{{ getConfirmPasswordErrorMessage() }}</mat-error>
            }
          </mat-form-field>

          <!-- Terms and Conditions -->
          <div class="terms-section">
            <mat-checkbox formControlName="acceptTerms" color="primary">
              Eu aceito os <a href="#" class="terms-link">Termos de Uso</a> e 
              <a href="#" class="terms-link">Política de Privacidade</a>
            </mat-checkbox>
            @if (registerForm.get('acceptTerms')?.invalid && registerForm.get('acceptTerms')?.touched) {
              <div class="terms-error">
                Você deve aceitar os termos para continuar
              </div>
            }
          </div>

          <!-- Register Button -->
          <button 
            mat-raised-button 
            color="primary" 
            type="submit"
            class="register-button full-width"
            [disabled]="isLoading">
            @if (!isLoading) {
              <span>Criar Conta</span>
            }
            @if (isLoading) {
              <span>Criando conta...</span>
            }
          </button>

          <!-- Login Link -->
          <div class="login-link">
            <p>Já tem uma conta? <a routerLink="/login">Fazer login</a></p>
          </div>
        </form>
      </mat-card-content>
    </mat-card>

    <!-- Footer -->
    <div class="register-footer">
      <p>&copy; 2025 Paperless. Todos os direitos reservados.</p>
    </div>
  </div>
</div>
